/* =========
   Telegram theme tokens + fallbacks
   ========= */
*, *::before, *::after { box-sizing: border-box; }
 select, textarea {
  width: 100%;
  max-width: 100%;
}

/* твой общий инпут */
.input{
  width: 100%;
  max-width: 100%;
  box-sizing: border-box;
}

/* iOS / Safari: дата и время любят вылезать */
input.input[type="date"],
input.input[type="time"]{
  width: 100%;
  max-width: 100%;
  min-width: 0;
  display: block;
}


/* iOS fix: “обрубает” вылезание нативного date/time */
.iosField{
  width: 100%;
  max-width: 100%;
  overflow: hidden;
  border-radius: 14px; /* подгони под твой input */
}

/* важно: сам input тоже ограничиваем */
.iosField > .input{
  width: 100%;
  max-width: 100%;
  min-width: 0;
}

/* доп. страховка от горизонтального скролла в Sheet */
/* иногда помогает именно на iOS (не ломает пикер) */
input.input[type="date"]::-webkit-date-and-time-value,
input.input[type="time"]::-webkit-date-and-time-value{
  text-align: left;
}
:root{
  /* Base tg theme vars */
  --tg-bg: var(--tg-theme-bg-color, #ffffff);
  --tg-text: var(--tg-theme-text-color, #111111);
  --tg-hint: var(--tg-theme-hint-color, #6b7280);
  --tg-link: var(--tg-theme-link-color, #2563eb);
  --tg-btn: var(--tg-theme-button-color, #2563eb);
  --tg-btn-text: var(--tg-theme-button-text-color, #ffffff);

  /* Optional tg vars (often present) */
  --tg-secondary-bg: var(--tg-theme-secondary-bg-color, #f3f4f6);
  --tg-section-bg: var(--tg-theme-section-bg-color, var(--tg-secondary-bg));

  /* Derived UI tokens */
  --card-bg: var(--tg-section-bg);
  --border: color-mix(in srgb, var(--tg-text) 14%, transparent);
  --muted-bg: color-mix(in srgb, var(--tg-text) 7%, transparent);
  --shadow: 0 10px 22px rgba(0,0,0,.06);

  /* Spacing + radius */
  --r-lg: 14px;
  --r-md: 12px;

  /* Typography */
  --fs-base: clamp(15px, 2.6vw, 17px);
  --fs-sm: clamp(13px, 2.3vw, 14px);
  --fs-h1: clamp(18px, 3.4vw, 22px);
  --fs-h2: clamp(16px, 3.0vw, 18px);

  /* Loader colors (adaptive) */
  --loader-stick: color-mix(in srgb, var(--tg-text) 28%, transparent);
  --loader-stick2: color-mix(in srgb, var(--tg-text) 40%, transparent);
  --loader-puck: color-mix(in srgb, var(--tg-text) 78%, transparent);
}

/* If you add JS setting: document.documentElement.dataset.tg = tg.colorScheme */
:root[data-tg="light"]{
  --border: color-mix(in srgb, var(--tg-text) 18%, transparent);
}
:root[data-tg="dark"]{
  --border: color-mix(in srgb, var(--tg-text) 24%, transparent);
}

/* =========
   Base / reset
   ========= */
html{
  -webkit-text-size-adjust: 100%;
  text-size-adjust: 100%;
  font-size: 16px;
}

body{
  margin: 0;
  background: var(--tg-bg);
  color: var(--tg-text);
  font-family: system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif;
  font-size: var(--fs-base);
  line-height: 1.35;
}

a{ color: var(--tg-link); text-decoration: none; }
a:hover{ text-decoration: underline; }

*{ box-sizing: border-box; }

hr{
  border: none;
  border-top: 1px solid var(--border);
  margin: 12px 0;
}

/* =========
   Layout
   ========= */
.container{
  padding: 14px;
  max-width: 720px;
  margin: 0 auto;
}

.row{
  display: flex;
  gap: 10px;
  flex-wrap: wrap;
  align-items: center;
}

/* =========
   Cards / badges
   ========= */
.card{
  background: var(--card-bg);
  border: 1px solid var(--border);
  border-radius: var(--r-lg);
  padding: 12px;
  margin: 10px 0;
  box-shadow: var(--shadow);
}

.badge{
  display: inline-flex;
  align-items: center;
  gap: 6px;
  padding: 6px 10px;
  border: 1px solid var(--border);
  border-radius: 999px;
  background: var(--muted-bg);
  color: var(--tg-text);
  font-size: var(--fs-sm);
  line-height: 1;
}

/* =========
   Headings / text
   ========= */
h1{
  font-size: var(--fs-h1);
  margin: 6px 0 10px;
  line-height: 1.15;
}

h2{
  font-size: var(--fs-h2);
  margin: 6px 0 10px;
  line-height: 1.2;
}

label{
  display: block;
  font-size: var(--fs-sm);
  color: var(--tg-hint);
  margin: 8px 0 6px;
}

.small{
  color: var(--tg-hint);
  font-size: var(--fs-sm);
}

/* =========
   Inputs
   ========= */
.input,
input,
select,
textarea{
  width: 100%;
  padding: 10px 12px;
  border-radius: var(--r-md);
  border: 1px solid var(--border);
  background: color-mix(in srgb, var(--card-bg) 92%, transparent);
  color: var(--tg-text);
  outline: none;
}

input::placeholder,
textarea::placeholder{
  color: var(--tg-hint);
}

input:focus,
select:focus,
textarea:focus{
  border-color: color-mix(in srgb, var(--tg-btn) 55%, var(--border));
  box-shadow: 0 0 0 3px color-mix(in srgb, var(--tg-btn) 18%, transparent);
}

/* =========
   Buttons
   ========= */
.btn{
  appearance: none;
  border: 1px solid color-mix(in srgb, var(--tg-btn) 70%, transparent);
  border-radius: var(--r-md);
  padding: 12px 14px;
  cursor: pointer;
  background: var(--tg-btn);
  color: var(--tg-btn-text);
  font-weight: 700;
  font-size: var(--fs-base);
  line-height: 1;
  transition: transform .06s ease, filter .12s ease, opacity .12s ease;
}

.btn:active{ transform: scale(0.98); }
.btn:disabled{ opacity: .6; cursor: not-allowed; }

.btn.secondary{
  background: transparent;
  color: var(--tg-text);
  border: 1px solid var(--border);
}

.btn.secondary:hover{
  background: var(--muted-bg);
}

/* =========
   Loader (sticks crossed + puck slide)
   ========= */
.loaderWrap{
  min-height: 60vh;
  display:flex;
  flex-direction:column;
  align-items:center;
  justify-content:center;
  gap:14px;
  padding: 16px;
}

.loaderIce{
  position:relative;
  width:160px;
  height:100px;
}

.hStick{
  position:absolute;
  left:20px;
  top:46px;
  width:120px;
  height:10px;
  border-radius:999px;
  background: var(--loader-stick);
  transform-origin: 18px 5px;
  filter: drop-shadow(0 8px 14px rgba(0,0,0,.18));
}

/* обмотка/ручка */
.hStick::before{
  content:"";
  position:absolute;
  left:-2px;
  top:-2px;
  width:28px;
  height:14px;
  border-radius:999px;
  background: var(--loader-stick2);
  opacity:.95;
}

/* лопатка клюшки */
.hStick::after{
  content:"";
  position:absolute;
  right:-14px;
  top:-4px;
  width:28px;
  height:18px;
  border-radius:4px 10px 10px 10px;
  background: var(--loader-stick2);
  transform: skewX(-18deg);
}

.hStick.left{ transform: rotate(32deg); }
.hStick.right{ transform: rotate(-32deg); }

.puck{
  position:absolute;
  left:50%;
  top:50%;
  width:24px;
  height:24px;
  border-radius:50%;
  transform: translate(-50%,-50%);
  background: var(--loader-puck);
  box-shadow:
    0 10px 22px rgba(0,0,0,.18) inset,
    0 10px 20px rgba(0,0,0,.14);
  animation: puckSlide 1.05s ease-in-out infinite;
}

@keyframes puckSlide{
  0%   { transform: translate(calc(-50% - 58px), -50%); opacity:.7; }
  50%  { transform: translate(calc(-50% + 58px), -50%); opacity:1; }
  100% { transform: translate(calc(-50% - 58px), -50%); opacity:.7; }
}

.loaderText{
  opacity:.85;
  font-size: var(--fs-sm);
  color: var(--tg-hint);
}
/* ===== Hockey Loader (no Tailwind) ===== */
.hkLoader{
  min-height: 60vh;
  display:flex;
  flex-direction:column;
  align-items:center;
  justify-content:center;
  gap:18px;
  padding: 18px;
}

.hkStage{
  position: relative;
  width: 320px;
  max-width: 92vw;
  height: 140px;
}

.hkSticks{
  position: relative;
  inset:0;
  display:flex;
  align-items:center;
  justify-content:space-between;
  padding: 0 14px;
}

.hkLogoWrap{
  position:absolute;
  left:50%;
  top:50%;
  transform: translate(-50%, -64%); /* чуть выше центра, чтобы шайба не залезала */
  width:90px;
  height:90px;
  background: color-mix(in srgb, var(--tg-bg) 55%, transparent);
  border: 1px solid var(--border);
  display:flex;
  align-items:center;
  justify-content:center;
  box-shadow: 0 10px 24px rgba(0,0,0,.15);
  z-index: 3;
  pointer-events: none;
}

.hkLogo{
  width: 90px;
  height: 90px;
  object-fit: contain;
  filter: drop-shadow(0 6px 12px rgba(0,0,0,.18));
}

.hkStickWrap{
  transform: scale(1);
  transition: transform 260ms ease;
  filter: drop-shadow(0 10px 18px rgba(0,0,0,.18));
}

.hkStickWrap.isActive{
  transform: scale(1.10);
}

.hkStickSvg{
  width: 80px;
  height: 80px;
}

/* цвета клюшек под тему */
.hkStickWrap:first-child .hkStickSvg path{
  fill: color-mix(in srgb, var(--tg-link) 70%, var(--tg-text));
}

.hkRight .hkStickSvg path{
  fill: color-mix(in srgb, var(--tg-btn) 70%, #c41e3a);
}

.hkFlip{ transform: scaleX(-1); }

.hkPuckRail{
  position:absolute;
  left:0; right:0;
  top: 50%;
  transform: translateY(-50%);
  display:flex;
  align-items:center;
  justify-content:center;
  pointer-events:none;
}

.hkPuck{
  width: 22px;
  height: 22px;
  border-radius: 50%;
  background: color-mix(in srgb, var(--tg-text) 85%, transparent);
  box-shadow:
    0 8px 16px rgba(0,0,0,.22),
    inset 0 2px 4px rgba(255,255,255,.18);
  transition: transform 1000ms ease-in-out, opacity 1000ms ease-in-out;
  opacity: .95;
}

.hkPuck.toRight{ transform: translateX(128px); }
.hkPuck.toLeft{ transform: translateX(-128px); }

.hkIceLine{
  position:absolute;
  left:0; right:0;
  bottom: 10px;
  height: 4px;
  border-radius: 999px;
  opacity: .25;
  background: linear-gradient(90deg,
    color-mix(in srgb, var(--tg-text) 18%, transparent),
    color-mix(in srgb, var(--tg-text) 10%, transparent),
    color-mix(in srgb, var(--tg-text) 18%, transparent)
  );
}

.hkMeta{
  display:flex;
  flex-direction:column;
  align-items:center;
  gap:10px;
}

.hkDots{
  display:flex;
  gap:7px;
}

.hkDots span{
  width: 8px;
  height: 8px;
  border-radius: 50%;
  background: color-mix(in srgb, var(--tg-link) 70%, var(--tg-btn));
  animation: hkBounce 900ms infinite ease-in-out;
}

.hkDots span:nth-child(2){ animation-delay: 150ms; }
.hkDots span:nth-child(3){ animation-delay: 300ms; }

@keyframes hkBounce{
  0%, 80%, 100% { transform: translateY(0); opacity: .65; }
  40% { transform: translateY(-6px); opacity: 1; }
}

.hkText{
  font-size: var(--fs-sm, 14px);
  color: var(--tg-hint);
  font-weight: 600;
}

.statusBlock{
  border: 1px solid var(--border);
  border-radius: 14px;
  padding: 12px;
  margin: 10px 0;
  background: var(--card-bg);
}

.statusHeader{
  display:flex;
  align-items:center;
  justify-content:space-between;
  gap:10px;
  margin-bottom:8px;
}

.statusTitle{
  font-weight: 800;
}

/* мягкие цветные подложки, чтобы в светлой теме не слепило */
.statusBlock.yes{
  background: color-mix(in srgb, #22c55e 12%, var(--card-bg));
  border-color: color-mix(in srgb, #22c55e 35%, var(--border));
}

.statusBlock.maybe{
  background: linear-gradient(
    135deg,
    rgba(120,120,120,0.12),
    rgba(255,255,255,0.02)
  );
  border: 1px solid rgba(255,255,255,0.07);
  box-shadow: 0 8px 22px rgba(0,0,0,0.16);
}

.statusBlock.no{
  background: color-mix(in srgb, #ef4444 10%, var(--card-bg));
  border-color: color-mix(in srgb, #ef4444 35%, var(--border));
}

.statusList{
  display:flex;
  flex-direction:column;
  gap:6px;
}

.statusRow{
  display:flex;
  align-items:baseline;
  justify-content:space-between;
  gap:10px;
  padding: 6px 8px;
  border-radius: 10px;
  background: color-mix(in srgb, var(--tg-text) 4%, transparent);
}
/* Пилюли игроков */
.pills {
  display: flex;
  flex-wrap: wrap;
  gap: 8px;
  margin-top: 10px;
}

.pill {
  display: inline-flex;
  align-items: center;
  gap: 8px;
  padding: 8px 10px;
  border-radius: 999px;
  border: 1px solid var(--border);
  background: var(--muted-bg);
  color: var(--tg-text);
  font-size: 14px;
  line-height: 1;
  white-space: nowrap;
}

.pill .pillName {
  font-weight: 800;
}

.pill .pillMeta {
  font-size: 12px;
  opacity: 0.8;
}

/* Цвета по позиции */
.pill.pos-F {
  background: color-mix(in srgb, #7dd3fc 22%, var(--tg-bg));
  border-color: color-mix(in srgb, #7dd3fc 55%, var(--border));
}

.pill.pos-D {
  background: color-mix(in srgb, #fdba74 22%, var(--tg-bg));
  border-color: color-mix(in srgb, #fdba74 55%, var(--border));
}

.pill.pos-G {
  background: color-mix(in srgb, #86efac 22%, var(--tg-bg));
  border-color: color-mix(in srgb, #86efac 55%, var(--border));
}

/* маленький маркер позиции */
.pill .posTag {
  font-weight: 900;
  font-size: 12px;
  padding: 4px 8px;
  border-radius: 999px;
  border: 1px solid var(--border);
  background: color-mix(in srgb, var(--tg-text) 7%, transparent);
}
.datetimeRow{
  display:flex;
  gap:10px;
}

.datetimeRow > *{
  flex: 1 1 0;
  min-width: 0;
}

@media (max-width: 420px){
  .datetimeRow{ flex-direction: column; }
}
.teamGroupTitle{
  margin: 10px 0 6px;
  font-size: 13px;
  opacity: .75;
  font-weight: 600;
}
.gameCard {
  position: relative;
  overflow: hidden;
  border-radius: 16px;
  padding: 0; /* важно: сами блоки внутри дадут отступы */
  color: #fff; /* чтобы в светлой теме текст не темнел */
}

/* Верхняя шапка */
.gameCard__topbar{
  display:flex;
  align-items:center;
  justify-content:space-between;
  gap:10px;
  padding: 10px 12px;
  background: rgba(0,0,0,.22);
  backdrop-filter: blur(10px);
  border-bottom: 1px solid rgba(255,255,255,.12);
}

.gameCard__title{
  font-weight: 900;
  font-size: 14px;
  line-height: 1.1;
  text-shadow: 0 2px 12px rgba(0,0,0,.55);
}

.gameCard__topRight{
  display:flex;
  align-items:center;
  gap:8px;
}

.gameCard__pill{
  display:inline-flex;
  align-items:center;
  justify-content:center;
  padding: 4px 8px;
  border-radius: 999px;
  background: rgba(255,255,255,.14);
  border: 1px solid rgba(255,255,255,.18);
}

/* Основная часть: дата / инфо / круг */
.gameCard__main{
  display:grid;
  grid-template-columns: 76px 1fr 64px;
  gap: 10px;
  padding: 12px;
  align-items:center;
}

.gameCard__date{
  border-radius: 14px;
  padding: 10px 8px;
  background: rgba(0,0,0,.20);
  backdrop-filter: blur(10px);
  border: 1px solid rgba(255,255,255,.12);
  text-align:left;
}

.gameCard__month{
  font-weight: 900;
  font-size: 12px;
  opacity: .9;
  letter-spacing: .6px;
}

.gameCard__day{
  font-weight: 900;
  font-size: 34px;
  line-height: 1;
}

.gameCard__info{
  min-width: 0;
}

.gameCard__when{
  font-weight: 900;
  font-size: 16px;
  text-shadow: 0 2px 12px rgba(0,0,0,.55);
}

.gameCard__loc{
  margin-top: 6px;
  font-size: 13px;
  opacity: .92;
  text-shadow: 0 2px 12px rgba(0,0,0,.55);
  display: -webkit-box;
  -webkit-line-clamp: 2;
  -webkit-box-orient: vertical;
  overflow: hidden;
}

/* Круг прогресса */
.gameCard__ringWrap{
  justify-self:end;
}

.progressRing{
  --size: 56px;
  --th: 6px;
  --p: 0;          /* 0..1 */
  --c: rgba(64,196,99,1);

  width: var(--size);
  height: var(--size);
  position: relative;
}

.progressRing::before{
  content:"";
  position:absolute;
  inset:0;
  border-radius:999px;

  background: conic-gradient(
    var(--c) calc(var(--p) * 1turn),
    rgba(255,255,255,.22) 0
  );

  -webkit-mask: radial-gradient(
    farthest-side,
    transparent calc(100% - var(--th)),
    #000 calc(100% - var(--th))
  );
  mask: radial-gradient(
    farthest-side,
    transparent calc(100% - var(--th)),
    #000 calc(100% - var(--th))
  );

  filter: drop-shadow(0 2px 10px rgba(0,0,0,.35));
}

.ringCenter{
  position:absolute;
  inset: var(--th);
  border-radius:999px;
  display:flex;
  align-items:center;
  justify-content:center;

  font-weight: 900;
  font-size: 16px;

  background: rgba(0,0,0,.22);
  backdrop-filter: blur(10px);
  border: 1px solid rgba(255,255,255,.10);
  text-shadow: 0 2px 10px rgba(0,0,0,.55);
}

/* Кнопки */
.gameCard__actions{
  display:flex;
  gap: 10px;
  padding: 0 12px 12px 12px;
}

.rsvpBtn{
  flex:1;
  height: 42px;
  border-radius: 12px;
  border: 1px solid rgba(255,255,255,.35);
  background: rgba(0,0,0,.22);
  backdrop-filter: blur(10px);
  color: #fff;
  font-weight: 900;
  display:flex;
  align-items:center;
  justify-content:center;
  gap: 8px;
}

.rsvpBtn:not(.active){
  opacity: .8; /* "неактивные", пока maybe */
}

.rsvpBtn.active.in{
  background: rgba(64,196,99,.22);
  border-color: rgba(64,196,99,.75);
  box-shadow: 0 0 0 2px rgba(64,196,99,.18) inset;
  opacity: 1;
}

.rsvpBtn.active.out{
  background: rgba(255,77,79,.20);
  border-color: rgba(255,77,79,.75);
  box-shadow: 0 0 0 2px rgba(255,77,79,.18) inset;
  opacity: 1;
}

.rsvpBtn:disabled{
  opacity: .45;
  cursor: not-allowed;
}

/* Чуть приятнее на мобильных */
@media (max-width: 420px){
  .gameCard__main{ grid-template-columns: 72px 1fr 58px; }
  .progressRing{ --size: 52px; }
}

/* Ближайшая игра */
.gameCard.isNext {
  border: 1px solid rgba(0, 200, 120, 0.55);
  box-shadow: 0 0 0 2px rgba(0, 200, 120, 0.18);
  transform: scale(1.01);
}

/* Прошедшие */
.gameCard.isPast {
  opacity: 0.85;
}

/* Мой RSVP → мягкий фон */
.gameCard.tone-yes {
  background: linear-gradient(135deg, rgba(0, 200, 120, 0.12), rgba(0, 200, 120, 0.03));
}

.gameCard.tone-maybe {
  background: linear-gradient(135deg, rgba(255, 200, 0, 0.14), rgba(255, 200, 0, 0.03));
}

.gameCard.tone-no {
  background: linear-gradient(135deg, rgba(255, 80, 80, 0.14), rgba(255, 80, 80, 0.03));
}

.gameCard.tone-none {
  /* как было */
}
/* чтобы контент не прятался под нижним меню */
.appShell {
  padding-bottom: calc(72px + env(safe-area-inset-bottom));
}

.bottomNav{
  position: fixed;
  left: 0;
  right: 0;
  bottom: 0;

  /* было: 10px + safe-area => давало отрыв */
  padding: 10px 12px env(safe-area-inset-bottom);

  z-index: 999;
}

.bottomNavInner{
  margin: 0 auto;
  max-width: 760px;

  display: grid;
  grid-auto-flow: column;
  grid-auto-columns: 1fr;
  gap: 8px;

  padding: 10px;
  border-radius: 55px;

  background: rgba(20,20,25,0.78);
  backdrop-filter: blur(12px);
  -webkit-backdrop-filter: blur(12px);
  border: 1px solid rgba(255,255,255,0.10);
  box-shadow: 0 12px 30px rgba(0,0,0,0.25);
}

.bottomNavItem{
  border: 0;
  background: transparent;
  color: rgba(255,255,255,0.85);
  border-radius: 55px;

  min-height: 54px;
  padding: 10px 6px;

  display: grid;
  place-items: center;
  gap: 5px;
  cursor: pointer;
}

.bottomNavItem.isActive{
  background: rgba(255,255,255,0.12);
  color: #fff;
  outline: 1px solid rgba(255,255,255,0.14);
}


.gameCard.isNext {
  transform: scale(1.01);
  border: 1px solid rgba(0, 255, 120, 0.35);
  box-shadow: 0 12px 30px rgba(0, 255, 120, 0.08);
}

.gameCard.status-yes {
  background: linear-gradient(135deg, rgba(0,255,120,0.16), rgba(255,255,255,0.02));
}

.gameCard.status-no {
  background: linear-gradient(135deg, rgba(255,70,70,0.16), rgba(255,255,255,0.02));
}

.gameCard.status-maybe {
  background: linear-gradient(
    135deg,
    rgba(120,120,120,0.12),
    rgba(255,255,255,0.02)
  );
  border: 1px solid rgba(255,255,255,0.07);
  box-shadow: 0 8px 22px rgba(0,0,0,0.16);
}

.btn.tiny, .btn.secondary.tiny {
  padding: 8px 10px;
  font-size: 12px;
}
.sheetBackdrop{
  position:fixed;
  inset:0;
  background: rgba(0,0,0,.55);
  z-index: 9999;
  display:flex;
  align-items:flex-end;
  /* приятнее в телеге */
  backdrop-filter: blur(2px);
  -webkit-backdrop-filter: blur(2px);
}

/* важное: НЕ прозрачный фон */
.sheet{
  width:100%;
  max-height: 92vh;
  background: var(--tg-theme-bg-color, var(--bg, #0f1115));
  border-top-left-radius: 18px;
  border-top-right-radius: 18px;
  border:1px solid rgba(255,255,255,.10);
  overflow:hidden;
  box-shadow: 0 -12px 40px rgba(0,0,0,.45);
}

/* важное: НЕ через color-mix */
.sheetHeader{
  display:flex;
  align-items:center;
  justify-content:space-between;
  gap:10px;
  padding:10px 12px;
  border-bottom:1px solid rgba(255,255,255,.10);
  background: var(--tg-theme-secondary-bg-color, rgba(20,22,26,.98));
}

.sheetTitle{
  font-weight: 1000;
  text-align:center;
  flex:1;
  overflow:hidden;
  text-overflow: ellipsis;
  white-space: nowrap;
  color: var(--tg-theme-text-color, var(--tg-text, #fff));
}

/* сами кнопки — всегда видимые */
.sheetBtn{
  border:1px solid rgba(255,255,255,.14);
  background: rgba(255,255,255,.08);
  color: var(--tg-theme-text-color, #fff);
  border-radius: 12px;
  padding: 8px 10px;
  cursor:pointer;
  line-height: 1;
  font-weight: 900;
}
.sheetBtn:active{ transform: translateY(1px); }

.sheetBody{
  padding:12px;
  overflow:auto;
  -webkit-overflow-scrolling: touch;
  max-height: 82vh;
  padding-bottom: calc(18px + env(safe-area-inset-bottom));
}
.gameListItem{
  cursor: pointer;
  padding: 12px 14px;
  border: 1px solid var(--border);
  border-radius: 14px;
  background: var(--card-bg);
  transition: transform .08s ease, background .15s ease, border-color .15s ease;
}

.gameListItem:active{
  transform: translateY(1px);
}

.gameListItem:hover{
  border-color: color-mix(in srgb, var(--tg-text) 18%, var(--border));
  background: color-mix(in srgb, var(--tg-text) 4%, var(--card-bg));
}

.gameListItem.isCancelled{
  opacity: .72;
}

.gameTitle{
  font-weight: 900;
  font-size: 15px;
  letter-spacing: .2px;
}

.gameArena{
  margin-top: 6px;
  font-size: 13px;
  opacity: .9;
}

.gameVideoTag{
  margin-top: 8px;
  display: inline-flex;
  align-items: center;
  gap: 6px;
  padding: 6px 10px;
  border-radius: 999px;
  border: 1px solid var(--border);
  background: color-mix(in srgb, var(--tg-text) 6%, transparent);
  font-size: 12px;
  font-weight: 800;
  width: fit-content;
}

.badgeMini.bad{
  opacity: .85;
  filter: saturate(.7);
}
.segRow{
  display:flex;
  gap:8px;
  margin-top:10px;
  flex-wrap:wrap;
}

.segBtn{
  flex: 1 1 120px;
  border:1px solid var(--border);
  background: transparent;
  border-radius: 12px;
  padding: 10px 10px;
  font-weight: 800;
  cursor: pointer;
}

.segBtn.on{
  background: color-mix(in srgb, var(--tg-text) 10%, transparent);
  border-color: color-mix(in srgb, var(--tg-text) 22%, var(--border));
}
.gameListItem.isNext{
  box-shadow: 0 0 0 1px rgba(255,255,255,.08), 0 10px 30px rgba(0,0,0,.18);
}
.jerseyBadge{
  width: 34px;
  height: 34px;
  display: grid;
  place-items: center;
  flex: 0 0 34px;

  /* стиль */
  background: rgba(255,255,255,0.08);
  border: 1px solid rgba(255,255,255,0.16);
  border-radius: 10px;
  box-shadow: 0 10px 24px rgba(0,0,0,0.18);
  backdrop-filter: blur(8px);

  /* силуэт */
  -webkit-clip-path: polygon(
    22% 18%, 34% 6%, 66% 6%, 78% 18%,
    92% 18%, 98% 34%, 84% 44%,
    84% 96%, 16% 96%, 16% 44%,
    2% 34%, 8% 18%
  );
  clip-path: polygon(
    22% 18%, 34% 6%, 66% 6%, 78% 18%,
    92% 18%, 98% 34%, 84% 44%,
    84% 96%, 16% 96%, 16% 44%,
    2% 34%, 8% 18%
  );

  position: relative;
  overflow: hidden;
}

.jerseyBadge::before{
  content: "";
  position: absolute;
  inset: 0;
  background: radial-gradient(circle at 30% 25%, rgba(255,255,255,0.18), transparent 55%);
  pointer-events: none;
}

.jerseyBadgeText{
  position: relative;
  z-index: 1;
  font-weight: 900;
  font-size: 14px;
  letter-spacing: -0.5px;
  color: rgba(255,255,255,0.92);
  text-shadow: 0 2px 10px rgba(0,0,0,0.35);
  line-height: 1;
}
.jerseyWrap{
  width: var(--jb-size);
  height: var(--jb-size);
  position: relative;
  flex: 0 0 var(--jb-size);
}

.jerseySvg{
  width: 100%;
  height: 100%;
  display: block;
  filter: drop-shadow(0 10px 18px rgba(0,0,0,.22));
}

/* Основной цвет джерси */
.jerseyFill{
  fill: var(--jersey-fill);
}

/* Контур */
.jerseyStroke{
  fill: none;
  stroke: var(--jersey-stroke);
  stroke-width: 2;
  stroke-linejoin: round;
}

/* “Блик” поверх */
.jerseySheen{
  fill: none;
  stroke: rgba(255,255,255,0.14);
  stroke-width: 8;
  stroke-linecap: round;
  stroke-linejoin: round;
  /* дуга блика (просто трюк: обводка силуэта + смещение) */
  transform: translate(-6px, -8px);
  filter: blur(0.2px);
  opacity: 0.55;
}

/* Полосы */
.jerseyStripe{ fill: var(--jersey-accent); }
.jerseyStripeSoft{ fill: rgba(255,255,255,0.06); }

/* Номер */
.jerseyNum{
  position: absolute;
  inset: 0;
  display: grid;
  place-items: center;
  font-weight: 900;
  letter-spacing: -0.5px;
  color: var(--jersey-text);
  text-shadow: 0 2px 10px rgba(0,0,0,.35);
  line-height: 1;
  user-select: none;
}

/* Авто-адаптация под количество цифр */
.jerseyWrap[data-len="1"] .jerseyNum{ font-size: 14px; }
.jerseyWrap[data-len="2"] .jerseyNum{ font-size: 13px; }
.jerseyWrap[data-len="3"] .jerseyNum{ font-size: 11px; }

/* Чуть разные “характеры” пресетов */
.jersey--modern .jerseyStroke{ stroke-width: 2.2; }
.jersey--slim .jerseyStroke{ stroke-width: 2; opacity: 0.9; }
/* База */
.jerseyWrap{
  width: var(--jb-size);
  height: var(--jb-size);
  position: relative;
  flex: 0 0 var(--jb-size);
}

.jerseySvg{
  width: 100%;
  height: 100%;
  display: block;
  filter: drop-shadow(0 10px 18px rgba(0,0,0,.22));
}

.jerseyFill{ fill: var(--jersey-fill); }
.jerseyStroke{
  fill: none;
  stroke: var(--jersey-stroke);
  stroke-width: 2;
  stroke-linejoin: round;
}

.jerseyStripe{ fill: var(--jersey-accent); }
.jerseyStripeSoft{ fill: rgba(255,255,255,0.12); }

/* Номер — делаем КРУПНЕЕ и от size */
.jerseyNum{
  position: absolute;
  inset: 0;
  display: grid;
  place-items: center;
  font-weight: 900;
  color: var(--jersey-text);
  text-shadow: 0 2px 10px rgba(0,0,0,.35);
  line-height: 1;
  user-select: none;

  font-size: calc(var(--jb-size) * 0.46); /* было мелко — теперь норм */
}
.jerseyWrap[data-len="2"] .jerseyNum{ font-size: calc(var(--jb-size) * 0.41); }
.jerseyWrap[data-len="3"] .jerseyNum{ font-size: calc(var(--jb-size) * 0.34); }

/* LIGHT: тёмная джерси + белый номер */
:root[data-theme="light"] .jerseyWrap,
:root[data-tg="light"] .jerseyWrap{
  --jersey-fill: rgba(0,0,0,0.78);
  --jersey-stroke: rgba(0,0,0,0.90);
  --jersey-accent: rgba(255,255,255,0.22);
  --jersey-text: rgba(255,255,255,0.98);
}

/* DARK: светлая джерси + тёмный номер */
:root[data-theme="dark"] .jerseyWrap,
:root[data-tg="dark"] .jerseyWrap{
  --jersey-fill: rgba(255,255,255,0.86);
  --jersey-stroke: rgba(255,255,255,0.98);
  --jersey-accent: rgba(0,0,0,0.12);
  --jersey-text: rgba(0,0,0,0.92);
}
/* для pill */
.pill.isMe{
  position: relative;
  border: 1px solid rgba(80,160,255,0.55);
  box-shadow:
    0 0 0 2px rgba(80,160,255,0.18),
    0 12px 26px rgba(0,0,0,0.18);
}

.pill.isMe::before{
  content:"";
  position:absolute;
  inset:-2px;
  border-radius: 999px; /* pill обычно круглый */
  background: radial-gradient(circle at 30% 20%, rgba(80,160,255,0.45), transparent 55%);
  filter: blur(10px);
  opacity: 0.9;
  pointer-events:none;
}

/* “золото” (если добавишь класс isMeGold) */
.pill.isMeGold{
  border-color: rgba(255,200,70,0.65);
  box-shadow:
    0 0 0 2px rgba(255,200,70,0.18),
    0 12px 26px rgba(0,0,0,0.18);
}
.pill.isMeGold::before{
  background: radial-gradient(circle at 30% 20%, rgba(255,200,70,0.48), transparent 55%);
}

/* для карточек в списке игроков */
.card.isMeCard{
  position: relative;
  border: 1px solid rgba(80,160,255,0.45);
  box-shadow:
    0 0 0 2px rgba(80,160,255,0.14),
    0 18px 40px rgba(0,0,0,0.16);
}
.card.isMeCard::before{
  content:"";
  position:absolute;
  inset:-3px;
  border-radius: inherit;
  background: radial-gradient(circle at 20% 0%, rgba(80,160,255,0.30), transparent 55%);
  filter: blur(14px);
  pointer-events:none;
}
/* Цвет подсветки статуса (поверх картинки) */
.gameCard { 
  --toneGlow: rgba(255,255,255,0); 
  --toneEdge: rgba(255,255,255,0);
}

.gameCard.tone-yes   { --toneGlow: rgba(0, 255, 140, .28); --toneEdge: rgba(0, 255, 140, .75); }
.gameCard.tone-maybe { --toneGlow: rgba(255, 200, 0, .26); --toneEdge: rgba(255, 200, 0, .75); }
.gameCard.tone-no    { --toneGlow: rgba(255, 70, 70, .28); --toneEdge: rgba(255, 70, 70, .75); }
.gameCard.tone-none  { --toneGlow: rgba(120, 160, 255, .14); --toneEdge: rgba(120, 160, 255, .35); }


/* картинка */
.gameCard::before{
  content:"";
  position:absolute;
  inset:0;
  background-image: var(--game-bg);
  background-size: cover;
  background-position: center;
  background-repeat: no-repeat;
  transform: scale(1.06);
  z-index: 0;
}

/* затемнение для читаемости текста */
/* затемнение + цвет статуса (чтобы было видно tone) */
.gameCard::after{
  content:"";
  position:absolute;
  inset:0;
  z-index: 1;

  background:
    /* тонкая цветная полоска слева */
    linear-gradient(90deg, var(--toneEdge) 0 4px, rgba(0,0,0,0) 4px 100%),

    /* цветное свечение сверху-слева */
    radial-gradient(120% 90% at 15% 10%, var(--toneGlow) 0%, rgba(0,0,0,0) 60%),

    /* основное затемнение для читаемости */
    linear-gradient(180deg, rgba(0,0,0,.55), rgba(0,0,0,.55));
}
/* Текст на карточках игр всегда светлый (фоновая картинка затемнена) */
.gameCard{
  color: rgba(255,255,255,.96);
}

.gameCard .small{
  color: rgba(255,255,255,.82);
}

/* бейджи на карточке тоже делаем читаемыми */
.gameCard .badge{
  color: rgba(255,255,255,.92);
  border-color: rgba(255,255,255,.18);
  background: rgba(0,0,0,.22);
}

/* на всякий — если есть ссылки */
.gameCard a{
  color: rgba(255,255,255,.96);
}

/* весь контент карточки поверх */
.gameCard > *{
  position: relative;
  z-index: 2;
}
/* ===== Buttons inside game cards: contrast on photo background ===== */
.gameCard .btn.tiny,
.gameCard .btn.secondary.tiny{
  color: rgba(255,255,255,.96);
  border-radius: 14px;
  border: 1px solid rgba(255,255,255,.18);
  backdrop-filter: blur(10px);
  -webkit-backdrop-filter: blur(10px);
  box-shadow: 0 10px 22px rgba(0,0,0,.35);
}

/* “неактивная” (secondary) — чуть темнее, но читаемо */
.gameCard .btn.secondary.tiny{
  background: rgba(0,0,0,.20);
}


.gameCard.status-maybe .btn.tiny{
  box-shadow:
    0 0 0 1px rgba(120,180,255,.35),
    0 0 18px rgba(120,180,255,.12),
    0 10px 22px rgba(0,0,0,.35);
}

/* disabled на прошедших — чтобы видно, что “не кликается” */
.gameCard .btn:disabled{
  opacity: .55;
  filter: grayscale(.25);
}
/* ===== Buttons inside game cards: contrast on photo background ===== */
.gameCard .btn.tiny,
.gameCard .btn.secondary.tiny{
  color: rgba(255,255,255,.96);
  border-radius: 14px;
  border: 1px solid rgba(255,255,255,.18);
  backdrop-filter: blur(10px);
  -webkit-backdrop-filter: blur(10px);
  box-shadow: 0 10px 22px rgba(0,0,0,.35);
}

/* “активная” кнопка (у тебя это .btn.tiny) */
.gameCard .btn.tiny{
  background: rgba(255,255,255,.14);
  border-color: rgba(255,255,255,.26);
}

/* “неактивная” (secondary) — чуть темнее, но читаемо */
.gameCard .btn.secondary.tiny{
  background: rgba(0,0,0,.20);
}

/* Подсветка активной кнопки по статусу карточки */
.gameCard.status-yes .btn.tiny{
  box-shadow:
    0 0 0 1px rgba(0,255,140,.35),
    0 0 18px rgba(0,255,140,.12),
    0 10px 22px rgba(0,0,0,.35);
}

.gameCard.status-no .btn.tiny{
  box-shadow:
    0 0 0 1px rgba(255,70,70,.35),
    0 0 18px rgba(255,70,70,.12),
    0 10px 22px rgba(0,0,0,.35);
}

.gameCard.status-maybe .btn.tiny{
  box-shadow:
    0 0 0 1px rgba(120,180,255,.35),
    0 0 18px rgba(120,180,255,.12),
    0 10px 22px rgba(0,0,0,.35);
}

/* disabled на прошедших — чтобы видно, что “не кликается” */
.gameCard .btn:disabled{
  opacity: .55;
  filter: grayscale(.25);
}
.gameCard__awardLine{
  margin-top: 8px;
  font-size: 13px;
  opacity: .95;
  text-shadow: 0 2px 12px rgba(0,0,0,.55);
}
